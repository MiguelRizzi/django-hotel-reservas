{% extends 'layout.html' %}
{% load static %}
{% block header %}
    <div class="bg-image d-flex justify-content-center align-items-center" style="background-image: url('https://images.pexels.com/photos/258154/pexels-photo-258154.jpeg'); height: 70vh; width: 100vw; background-position: center; background-size: cover;">
        {% block h1 %}
            <h1 class="fw-bolder display-2 text-white p-5" style="background-color: rgba(0,0,0,0.4); width: 100vw; text-align: center;">El Jardin Secreto </h1>
        {% endblock h1 %}
    </div>
{% endblock header %}

{% block title %}App Hotel{% endblock title %}

{% block content %}

    {% if user.is_staff %}
        <div class="container mt-lg-3">
            <h2 class="fw-bolder display-5 mb-4">Tipo de Habitacion</h3>
            <div class="d-grid gap-3">
                <a href="{% url 'hotel:tipohabitacion_create' %}" class="btn btn-primary">Crear tipo de Habitacion</a>
                <a href="{% url 'hotel:tipohabitacion_list' %}" class="btn btn-primary">Ver tipo de Habitaciones</a> <br>
            </div>
            
            <h2 class="fw-bolder display-5 mb-4">Habitaciones</h3>
            <div class="d-grid gap-3">
                <a href="{% url 'hotel:habitacion_create' %}" class="btn btn-primary">Crear Habitacion</a>
                <a href="{% url 'hotel:habitacion_list' %}" class="btn btn-primary">Ver Habitaciones</a> <br>
            </div>
                
            <h2 class="fw-bolder display-5 mb-4">Reservas</h3>
            <div class="d-grid gap-3">
                <a href="{% url 'hotel:reserva_create' %}" class="btn btn-primary">Crear Reserva</a>
                <a href="{% url 'hotel:reserva_list' %}" class="btn btn-primary">Ver Reservas</a> <br>
            </div>
        </div>
    {% else %}
        <div class="mb-5">
            <h2 class="fw-bolder display-5 mb-4">Habitaciones</h2>
                
            <div class="row">
                {% for habitacion in habitaciones %}
                    <div class="col-lg-4 col-md-6 col-12">
                        <div class="card mb-4" style="width: 25rem;">
                            {% if habitacion.imagen %}
                                <img class="card-img-top w-100" src="{{ habitacion.imagen.url }}" alt="Imagen Habitacion {{ habitacion.numero }}">
                            {% else %}
                                <img class="card-img-top w-100" src="{% static 'img/hotel/img-no-disponible.jpg' %}" alt="Imagen Habitacion {{ habitacion.numero }}">
                            {% endif %}
                            <div class="card-body">
                            <h5 class="card-title">Habitacion Nro: {{ habitacion.numero }}</h5>
                            <p class="card-text">Precio por dia: ${{ habitacion.precio_x_dia }}</p>
                            <a href="{% url 'hotel:habitacion_detail' habitacion.id %}" class="btn btn-primary">Ver Detalle</a>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>  
            <div class="d-grid gap-3 my-5">
                <a href="{% url 'hotel:habitacion_list' %}" class="btn btn-outline-dark">Listado de Habitaciones</a>
            </div>
            <h2 class="fw-bolder display-5 m-4">Reservas</h3>
            <div class="d-grid gap-3">
                <a href="{% url 'hotel:reserva_create' %}" class="btn btn-outline-dark">Reservar</a>
                <a href="{% url 'hotel:reserva_list' %}" class="btn btn-outline-dark">Mis Reservas</a> 
            </div>
        </div>
    {% endif %}
{% endblock content %}
    
    